<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil del Candidato - ARCO</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

    <!-- Variables CSS -->
    <link rel="stylesheet" href="/assets/css/variables.css">
    <!-- Estilos personalizados -->
    <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body class="bg-light">
    <!-- Navbar -->
    <div id="navbar-container"></div>

    <div class="d-flex">
        <!-- Sidebar -->
        <div id="sidebar-container"></div>

        <!-- Main Content -->
        <main class="main-content flex-fill" id="main-content">
            <!-- Loading -->
            <div class="text-center py-5" id="loading">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Cargando...</span>
                </div>
                <p class="text-muted mt-3">Cargando perfil del candidato...</p>
            </div>

            <!-- Error State -->
            <div class="text-center py-5" id="error-state" style="display: none;">
                <i class="bi bi-exclamation-triangle text-warning" style="font-size: 4rem;"></i>
                <h5 class="mt-3">No se pudo cargar el perfil</h5>
                <p class="text-muted">El candidato no existe o no tienes permisos para verlo</p>
                <a href="/pages/empresa/buscar-candidatos.html" class="btn btn-primary">
                    <i class="bi bi-arrow-left me-2"></i>Volver a Buscar Candidatos
                </a>
            </div>

            <!-- Content -->
            <div id="content" style="display: none;">
                <!-- Header -->
                <div class="mb-4">
                    <a href="/pages/empresa/buscar-candidatos.html" class="btn btn-link text-decoration-none ps-0 mb-3">
                        <i class="bi bi-arrow-left me-2"></i>Volver a Búsqueda
                    </a>

                    <!-- Perfil Header Card -->
                    <div class="card border-0 shadow-sm">
                        <div class="card-body">
                            <div class="row align-items-center">
                                <div class="col-auto">
                                    <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center" style="width: 100px; height: 100px; font-size: 2.5rem;" id="candidato-avatar">
                                        <i class="bi bi-person-fill"></i>
                                    </div>
                                </div>
                                <div class="col">
                                    <h1 class="h3 mb-1 fw-bold" id="candidato-nombre">Cargando...</h1>
                                    <p class="text-muted mb-2" id="candidato-titulo">-</p>
                                    <div class="d-flex flex-wrap gap-3 mb-2">
                                        <span id="candidato-ubicacion">
                                            <i class="bi bi-geo-alt text-muted me-1"></i><span class="text-muted">-</span>
                                        </span>
                                        <span id="candidato-email">
                                            <i class="bi bi-envelope text-muted me-1"></i><span class="text-muted">-</span>
                                        </span>
                                        <span id="candidato-telefono">
                                            <i class="bi bi-telephone text-muted me-1"></i><span class="text-muted">-</span>
                                        </span>
                                    </div>
                                    <div id="candidato-disponibilidad-badge"></div>
                                </div>
                                <div class="col-auto">
                                    <div class="d-flex flex-column gap-2">
                                        <button class="btn btn-primary" id="btn-contactar">
                                            <i class="bi bi-envelope me-2"></i>Contactar
                                        </button>
                                        <button class="btn btn-outline-primary" id="btn-descargar-cv">
                                            <i class="bi bi-download me-2"></i>Descargar CV
                                        </button>
                                        <button class="btn btn-outline-secondary" id="btn-guardar-favoritos">
                                            <i class="bi bi-bookmark me-2"></i>Guardar
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Contenido Principal -->
                <div class="row g-4">
                    <!-- Columna Principal -->
                    <div class="col-lg-8">
                        <!-- Resumen Profesional -->
                        <div class="card border-0 shadow-sm mb-4">
                            <div class="card-body">
                                <h5 class="card-title mb-3">
                                    <i class="bi bi-file-text text-primary me-2"></i>Resumen Profesional
                                </h5>
                                <p class="card-text" id="candidato-resumen">Sin información disponible</p>
                            </div>
                        </div>

                        <!-- Experiencia Laboral -->
                        <div class="card border-0 shadow-sm mb-4">
                            <div class="card-body">
                                <h5 class="card-title mb-3">
                                    <i class="bi bi-briefcase text-primary me-2"></i>Experiencia Laboral
                                </h5>
                                <div id="candidato-experiencia">
                                    <p class="text-muted">No hay experiencia registrada</p>
                                </div>
                            </div>
                        </div>

                        <!-- Educación -->
                        <div class="card border-0 shadow-sm mb-4">
                            <div class="card-body">
                                <h5 class="card-title mb-3">
                                    <i class="bi bi-mortarboard text-primary me-2"></i>Educación
                                </h5>
                                <div id="candidato-educacion">
                                    <p class="text-muted">No hay educación registrada</p>
                                </div>
                            </div>
                        </div>

                        <!-- Certificaciones -->
                        <div class="card border-0 shadow-sm mb-4">
                            <div class="card-body">
                                <h5 class="card-title mb-3">
                                    <i class="bi bi-award text-primary me-2"></i>Certificaciones
                                </h5>
                                <div id="candidato-certificaciones">
                                    <p class="text-muted">No hay certificaciones registradas</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Columna Lateral -->
                    <div class="col-lg-4">
                        <!-- Información Personal -->
                        <div class="card border-0 shadow-sm mb-4">
                            <div class="card-body">
                                <h5 class="card-title mb-3">
                                    <i class="bi bi-person text-primary me-2"></i>Información Personal
                                </h5>

                                <div class="mb-3">
                                    <small class="text-muted d-block">Experiencia</small>
                                    <span id="candidato-anos-experiencia" class="fw-semibold">-</span>
                                </div>

                                <div class="mb-3">
                                    <small class="text-muted d-block">Nivel Educativo</small>
                                    <span id="candidato-nivel-educacion" class="fw-semibold">-</span>
                                </div>

                                <div class="mb-3">
                                    <small class="text-muted d-block">Edad</small>
                                    <span id="candidato-edad" class="fw-semibold">-</span>
                                </div>

                                <div class="mb-3">
                                    <small class="text-muted d-block">Género</small>
                                    <span id="candidato-genero" class="fw-semibold">-</span>
                                </div>

                                <div class="mb-0">
                                    <small class="text-muted d-block">Estado Civil</small>
                                    <span id="candidato-estado-civil" class="fw-semibold">-</span>
                                </div>
                            </div>
                        </div>

                        <!-- Habilidades -->
                        <div class="card border-0 shadow-sm mb-4">
                            <div class="card-body">
                                <h5 class="card-title mb-3">
                                    <i class="bi bi-star text-primary me-2"></i>Habilidades
                                </h5>
                                <div id="candidato-habilidades">
                                    <span class="text-muted">No hay habilidades registradas</span>
                                </div>
                            </div>
                        </div>

                        <!-- Idiomas -->
                        <div class="card border-0 shadow-sm mb-4">
                            <div class="card-body">
                                <h5 class="card-title mb-3">
                                    <i class="bi bi-translate text-primary me-2"></i>Idiomas
                                </h5>
                                <div id="candidato-idiomas">
                                    <p class="text-muted mb-0">No hay idiomas registrados</p>
                                </div>
                            </div>
                        </div>

                        <!-- Documentos -->
                        <div class="card border-0 shadow-sm mb-4">
                            <div class="card-body">
                                <h5 class="card-title mb-3">
                                    <i class="bi bi-file-earmark text-primary me-2"></i>Documentos
                                </h5>
                                <div id="candidato-documentos">
                                    <p class="text-muted mb-0">No hay documentos adjuntos</p>
                                </div>
                            </div>
                        </div>

                        <!-- Redes Sociales -->
                        <div class="card border-0 shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title mb-3">
                                    <i class="bi bi-share text-primary me-2"></i>Redes Sociales
                                </h5>
                                <div id="candidato-redes" class="d-flex flex-column gap-2">
                                    <p class="text-muted mb-0">No hay redes sociales</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Footer -->
    <div id="footer-container"></div>

    <!-- Modal Contactar -->
    <div class="modal fade" id="modalContactar" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Contactar Candidato</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <strong>Candidato:</strong> <span id="modal-candidato-nombre"></span>
                    </div>
                    <div class="mb-3">
                        <label for="asunto" class="form-label">Asunto</label>
                        <input type="text" class="form-control" id="asunto" placeholder="Ej: Oferta de trabajo">
                    </div>
                    <div class="mb-3">
                        <label for="mensaje" class="form-label">Mensaje</label>
                        <textarea class="form-control" id="mensaje" rows="5" placeholder="Escribe tu mensaje aquí..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="btn-enviar-mensaje">Enviar Mensaje</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Scripts de la aplicación -->
    <script src="/assets/js/config.js"></script>
    <script src="/assets/js/utils/validators.js"></script>
    <script src="/assets/js/utils/helpers.js"></script>
    <script src="/assets/js/services/api.service.js"></script>
    <script src="/assets/js/services/auth.service.js"></script>
    <script src="/assets/js/services/empresa.service.js"></script>
    <script src="/assets/js/controllers/auth.controller.js"></script>
    <script src="/assets/js/components.js"></script>
    <script src="/assets/js/main.js"></script>

    <!-- Script específico de la página -->
    <script src="/pages/empresa/detalle-candidato.js"></script>
</body>
</html>
